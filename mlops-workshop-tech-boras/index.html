<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>MLOps Workshop: Building Production ML Pipelines with MLflow and Airflow - Pine Grove Interactive</title><meta name=Description content="From 'throwing models over the fence' to automated ML pipelines. A practical guide to MLOps using MLflow and Airflow, based on the third workshop in Tech Borås AI Lab series."><meta property="og:url" content="https://pgi.dev/mlops-workshop-tech-boras/">
<meta property="og:site_name" content="Pine Grove Interactive"><meta property="og:title" content="From Jupyter Notebooks to Production: MLOps Workshop at Tech Borås"><meta property="og:description" content="From 'throwing models over the fence' to automated ML pipelines. A practical guide to MLOps using MLflow and Airflow, based on the third workshop in Tech Borås AI Lab series."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-23T16:30:00+02:00"><meta property="article:modified_time" content="2025-11-30T09:55:37+01:00"><meta property="og:image" content="https://pgi.dev/images/tree.svg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pgi.dev/images/tree.svg"><meta name=twitter:title content="From Jupyter Notebooks to Production: MLOps Workshop at Tech Borås"><meta name=twitter:description content="From 'throwing models over the fence' to automated ML pipelines. A practical guide to MLOps using MLflow and Airflow, based on the third workshop in Tech Borås AI Lab series."><meta name=application-name content="Pine Grove Interactive"><meta name=apple-mobile-web-app-title content="Pine Grove Interactive"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/images/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://pgi.dev/mlops-workshop-tech-boras/><link rel=prev href=https://pgi.dev/setfit-nlp-workshop-tech-boras/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"From Jupyter Notebooks to Production: MLOps Workshop at Tech Borås","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/pgi.dev\/mlops-workshop-tech-boras\/"},"image":["https:\/\/pgi.dev\/images\/apple-touch-icon.png"],"genre":"posts","wordcount":1533,"url":"https:\/\/pgi.dev\/mlops-workshop-tech-boras\/","datePublished":"2025-09-23T16:30:00+02:00","dateModified":"2025-11-30T09:55:37+01:00","publisher":{"@type":"Organization","name":"xxxx","logo":"https:\/\/pgi.dev\/images\/tree.svg"},"author":{"@type":"Person","name":"Kristoffer Johansson"},"description":"From 'throwing models over the fence' to automated ML pipelines. A practical guide to MLOps using MLflow and Airflow, based on the third workshop in Tech Borås AI Lab series."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><script defer src=https://cloud.umami.is/script.js data-website-id=6621ff6c-2172-46d3-96e6-c04c97e6890f></script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Pine Grove Interactive"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo-pgi-dev.svg data-srcset="/images/logo-pgi-dev.svg, /images/logo-pgi-dev.svg 1.5x, /images/logo-pgi-dev.svg 2x" data-sizes=auto alt=Home title=Home></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Blog </a><a class=menu-item href=/offer/>Our offer </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/sv/mlops-workshop-tech-boras/>Svenska</option><option value=/mlops-workshop-tech-boras/ selected>English</option></select>
</a><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Pine Grove Interactive"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo-pgi-dev.svg data-srcset="/images/logo-pgi-dev.svg, /images/logo-pgi-dev.svg 1.5x, /images/logo-pgi-dev.svg 2x" data-sizes=auto alt=/images/logo-pgi-dev.svg title=/images/logo-pgi-dev.svg></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Blog</a><a class=menu-item href=/offer/ title>Our offer</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title="Select Language">English<i class="fas fa-chevron-right fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/sv/mlops-workshop-tech-boras/>Svenska</option><option value=/mlops-workshop-tech-boras/ selected>English</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class=single-title>From Jupyter Notebooks to Production: MLOps Workshop at Tech Borås</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://www.linkedin.com/in/kristoffer-johansson/ title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Kristoffer Johansson</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2025-09-23>2025-09-23</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1533 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;8 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#the-development-environment-problem>The Development Environment Problem</a></li><li><a href=#the-throw-over-the-fence-anti-pattern>The &ldquo;Throw Over the Fence&rdquo; Anti-Pattern</a></li><li><a href=#the-mlops-solution-production-architecture>The MLOps Solution: Production Architecture</a></li><li><a href=#building-the-pipeline-mlflow--airflow>Building the Pipeline: MLflow + Airflow</a><ul><li><a href=#the-dag-structure>The DAG Structure</a></li><li><a href=#setup-and-installation>Setup and Installation</a></li><li><a href=#training-and-registering-a-model>Training and Registering a Model</a></li><li><a href=#model-monitoring>Model Monitoring</a></li></ul></li><li><a href=#mlops--ai-consulting-in-borås>MLOps & AI Consulting in Borås</a></li></ul></nav></div></div><div class=content id=content><p>On September 23, I ran the third workshop in the AI Lab series at University of Borås. This time we tackled the gap between experimentation and production: the &ldquo;throw it over the fence&rdquo; problem that kills ML projects. This post shows how to bridge that gap with MLOps practices and tools.</p><figure><a class=lightgallery href=/mlops-workshop-tech-boras/tech-boras-workshop-3.webp title=/mlops-workshop-tech-boras/tech-boras-workshop-3.webp data-thumbnail=/mlops-workshop-tech-boras/tech-boras-workshop-3.webp data-sub-html="<h2>MLOps workshop at University of Borås, September 23</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/mlops-workshop-tech-boras/tech-boras-workshop-3.webp data-srcset="/mlops-workshop-tech-boras/tech-boras-workshop-3.webp, /mlops-workshop-tech-boras/tech-boras-workshop-3.webp 1.5x, /mlops-workshop-tech-boras/tech-boras-workshop-3.webp 2x" data-sizes=auto alt=/mlops-workshop-tech-boras/tech-boras-workshop-3.webp width=1280 height=720></a><figcaption class=image-caption>MLOps workshop at University of Borås, September 23</figcaption></figure><h2 id=the-development-environment-problem>The Development Environment Problem</h2><p>Most ML projects start in Jupyter notebooks. You load data, explore it, train a model, validate it, and call it done. This works for experimentation, but it creates a problem: the entire workflow lives on your laptop in a linear, manual process.</p><p><strong>The typical data science workflow:</strong></p><ol><li><strong>Data Analysis</strong> - Explore and understand your dataset</li><li><strong>Preprocessing</strong> - Clean and transform data</li><li><strong>Model Training</strong> - Fit your model to the data</li><li><strong>Model Validation</strong> - Check if it actually works</li><li><strong>Model Handover</strong> - Hope someone can deploy it</li></ol><p>Each step runs manually. No automation. No versioning. No way to reproduce results reliably. When your model performs well in validation, you face a question: how do you get this into production?</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw" aria-hidden=true></i>The handover problem scales differently, but exists everywhere<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>At a <strong>small company</strong>, one person handles everything from data analysis to deployment. The handover happens between different hats the same person wears.</p><p>At <strong>medium and large companies</strong>, data scientists build models but struggle to hand them over to engineering teams. The model that worked perfectly in a notebook fails in production, or worse, sits unused because deployment is too difficult.</p></div></div></div><p><strong>MLOps practices built on CI/CD principles solve this by eliminating the handover entirely.</strong> Instead of passing artifacts between teams or roles, you build automated pipelines that move code from experimentation to production. The same pipeline that trains your model also deploys it.</p><h2 id=the-throw-over-the-fence-anti-pattern>The &ldquo;Throw Over the Fence&rdquo; Anti-Pattern</h2><p>When organizations try to scale their ML work, they hit a wall. Literally.</p><figure><a class=lightgallery href=/mlops-workshop-tech-boras/throw-over-fence-diagram.webp title=/mlops-workshop-tech-boras/throw-over-fence-diagram.webp data-thumbnail=/mlops-workshop-tech-boras/throw-over-fence-diagram.webp data-sub-html="<h2>The &rsquo;throw it over the fence&rsquo; workflow: data scientists and engineers work in isolation. Image credits swirlai.com</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/mlops-workshop-tech-boras/throw-over-fence-diagram.webp data-srcset="/mlops-workshop-tech-boras/throw-over-fence-diagram.webp, /mlops-workshop-tech-boras/throw-over-fence-diagram.webp 1.5x, /mlops-workshop-tech-boras/throw-over-fence-diagram.webp 2x" data-sizes=auto alt=/mlops-workshop-tech-boras/throw-over-fence-diagram.webp width=1600 height=1439></a><figcaption class=image-caption>The &rsquo;throw it over the fence&rsquo; workflow: data scientists and engineers work in isolation. Image credits <a href=https://www.newsletter.swirlai.com/p/evolving-maturity-of-mlops-stack target=_blank rel="noopener noreffer">swirlai.com</a></figcaption></figure><p>Look at the diagram above. On the left, the data scientist works in Jupyter, connected to the data warehouse. They analyze data, preprocess it, train a model, validate it. At the end of this pipeline sits <strong>Model Handover</strong> (step 1).</p><p>Then comes the wall. The brick wall in the middle represents organizational separation. The model artifact gets dumped into a bucket (step 2) and passed to the other side. No training context. No preprocessing code. No validation metrics. Just a pickled model file and hope.</p><p>On the right side, the software engineer receives this artifact (step 3). They attempt deployment (step 4), wrap it in a container, and expose it to product applications (step 5). Then reality hits.</p><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden=true></i>Why this pattern fails<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>The model that achieved 95% accuracy in the notebook gets 60% in production. Why?</p><ul><li><strong>Different data distributions</strong>: Training used last month&rsquo;s data, production sees today&rsquo;s data</li><li><strong>Missing preprocessing</strong>: The notebook had 10 cells of data cleaning that never got documented</li><li><strong>Dependency mismatches</strong>: Model trained with scikit-learn 1.4, production runs 1.0</li><li><strong>No monitoring</strong>: When accuracy drops, nobody notices for weeks</li></ul></div></div></div><p>This workflow breaks because it treats model development and deployment as separate problems. The data scientist optimizes for accuracy in experiments. The engineer optimizes for reliability in production. These goals conflict when there&rsquo;s a wall between them.</p><p>Documentation doesn&rsquo;t fix this. READMEs get outdated. Comments get ignored. What you need is shared infrastructure that both roles interact with during their work.</p><h2 id=the-mlops-solution-production-architecture>The MLOps Solution: Production Architecture</h2><p>The solution replaces the wall with shared infrastructure. Instead of two isolated environments, you build automated pipelines that connect data, training, and deployment.</p><figure><a class=lightgallery href=/mlops-workshop-tech-boras/production-mlops-architecture.webp title=/mlops-workshop-tech-boras/production-mlops-architecture.webp data-thumbnail=/mlops-workshop-tech-boras/production-mlops-architecture.webp data-sub-html="<h2>Production MLOps architecture with automated pipelines and centralized metadata tracking. Image credits swirlai.com</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/mlops-workshop-tech-boras/production-mlops-architecture.webp data-srcset="/mlops-workshop-tech-boras/production-mlops-architecture.webp, /mlops-workshop-tech-boras/production-mlops-architecture.webp 1.5x, /mlops-workshop-tech-boras/production-mlops-architecture.webp 2x" data-sizes=auto alt=/mlops-workshop-tech-boras/production-mlops-architecture.webp width=1600 height=1439></a><figcaption class=image-caption>Production MLOps architecture with automated pipelines and centralized metadata tracking. Image credits <a href=https://www.newsletter.swirlai.com/p/evolving-maturity-of-mlops-stack target=_blank rel="noopener noreffer">swirlai.com</a></figcaption></figure><p>The diagram shows a production ML environment. Three automated pipelines replace manual handoffs: <strong>Data Engineering</strong> (warehouse to curated data), <strong>ML Training</strong> (preprocessing through validation), and <strong>Deployment</strong> (registry to production).</p><p>At the center sits a metadata hub with three components:</p><ul><li><strong>Experiment Tracker</strong>: Logs metrics and parameters from every training run</li><li><strong>ML Metadata Store</strong>: Tracks data lineage and artifact relationships</li><li><strong>Model Registry</strong>: Stores versioned models ready for deployment</li></ul><p>An orchestrator like Airflow runs these pipelines on schedules or triggers, creating a <strong>Continuous Training</strong> loop where models retrain automatically as data changes.</p><p>The wall is gone. Both data scientists and engineers interact with the same registry and metadata store. The model that gets deployed is the exact model that was validated, with full lineage tracking.</p><h2 id=building-the-pipeline-mlflow--airflow>Building the Pipeline: MLflow + Airflow</h2><p>The workshop put theory into practice. Attendees built a complete MLOps pipeline using MLflow for tracking and Airflow for orchestration, running locally on their laptops.</p><figure><a class=lightgallery href=/mlops-workshop-tech-boras/airflow-dag-diagram.webp title=/mlops-workshop-tech-boras/airflow-dag-diagram.webp data-thumbnail=/mlops-workshop-tech-boras/airflow-dag-diagram.webp data-sub-html="<h2>The workshop DAG: automated data generation, prediction, monitoring, and cleanup</h2>"><img class=lazyload src=/svg/loading.min.svg data-src=/mlops-workshop-tech-boras/airflow-dag-diagram.webp data-srcset="/mlops-workshop-tech-boras/airflow-dag-diagram.webp, /mlops-workshop-tech-boras/airflow-dag-diagram.webp 1.5x, /mlops-workshop-tech-boras/airflow-dag-diagram.webp 2x" data-sizes=auto alt=/mlops-workshop-tech-boras/airflow-dag-diagram.webp width=1018 height=244></a><figcaption class=image-caption>The workshop DAG: automated data generation, prediction, monitoring, and cleanup</figcaption></figure><p><strong>The tech stack:</strong></p><ul><li><strong>MLflow</strong>: Experiment tracking, metadata store, and model registry</li><li><strong>Airflow</strong>: Pipeline orchestration with a Directed Acyclic Graph (DAG)</li><li><strong>uv</strong>: Fast Python package manager for dependency management</li></ul><h3 id=the-dag-structure>The DAG Structure</h3><p>The diagram shows five tasks that run in sequence and parallel:</p><ol><li><strong>generate_data</strong> (PythonOperator): Simulates new data from a warehouse</li><li><strong>batch_predict</strong> (PythonOperator): Loads the registered model and makes predictions</li><li><strong>monitor_model</strong> (PythonOperator): Checks prediction quality and logs metrics to MLflow</li><li>After monitoring, two tasks run in parallel:<ul><li><strong>cleanup_old_artifacts</strong> (BashOperator): Removes old files</li><li><strong>generate_summary</strong> (PythonOperator): Creates performance reports</li></ul></li></ol><p>The DAG interacts with MLflow&rsquo;s model registry to fetch the latest production model and logs monitoring metrics to the experiment tracker.</p><h3 id=setup-and-installation>Setup and Installation</h3><p>The full code is available at <a href=https://github.com/krjoha/ai-lab-mlops target=_blank rel="noopener noreffer">github.com/krjoha/ai-lab-mlops</a>
. The workshop used <code>uv</code>, a fast Python package manager written in Rust that handles dependency resolution and virtual environments. It&rsquo;s significantly faster than pip and creates reproducible environments. Both MLflow and Airflow run as local services: MLflow provides the web UI for experiment tracking and model registry at <code>http://localhost:5000</code>, while Airflow runs the scheduler and web interface for DAG management at <code>http://localhost:8080</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Clone the repository</span>
</span></span><span class=line><span class=cl>git clone https://github.com/krjoha/ai-lab-mlops
</span></span><span class=line><span class=cl><span class=nb>cd</span> ai-lab-mlops
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Install dependencies</span>
</span></span><span class=line><span class=cl>uv sync
</span></span><span class=line><span class=cl><span class=nb>source</span> .venv/bin/activate
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Start MLflow server (in separate terminal)</span>
</span></span><span class=line><span class=cl>bash start_mlflow.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Start Airflow server (in another terminal)</span>
</span></span><span class=line><span class=cl>bash start_airflow.sh
</span></span></code></pre></td></tr></table></div></div><p>After starting Airflow, find the username and password in the terminal output or in <code>airflow/simple_auth_manager_passwords.json.generated</code>.</p><h3 id=training-and-registering-a-model>Training and Registering a Model</h3><p>Run the training script to create the initial model:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python tasks/train_model.py
</span></span></code></pre></td></tr></table></div></div><p>You can see the stored and versioned model in the MLflow UI at <code>http://localhost:5000/#/experiments</code>. After creating a model and storing it in the MLflow registry, you can go to the Airflow UI at <code>http://localhost:8080</code> and run the prediction DAG/pipeline from there.</p><p>The workshop builds a sentiment classification model using scikit-learn&rsquo;s <code>Pipeline</code> to chain a TF-IDF vectorizer with logistic regression. Here&rsquo;s the core training logic (see <a href=https://github.com/krjoha/ai-lab-mlops/blob/main/tasks/train_model.py target=_blank rel="noopener noreffer"><code>tasks/train_model.py</code></a>
for full implementation):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Create pipeline</span>
</span></span><span class=line><span class=cl><span class=n>pipeline</span> <span class=o>=</span> <span class=n>Pipeline</span><span class=p>([</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s1>&#39;tfidf&#39;</span><span class=p>,</span> <span class=n>TfidfVectorizer</span><span class=p>(</span><span class=n>max_features</span><span class=o>=</span><span class=mi>1500</span><span class=p>,</span> <span class=n>ngram_range</span><span class=o>=</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>))),</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=s1>&#39;classifier&#39;</span><span class=p>,</span> <span class=n>LogisticRegression</span><span class=p>(</span><span class=n>random_state</span><span class=o>=</span><span class=mi>42</span><span class=p>,</span> <span class=n>max_iter</span><span class=o>=</span><span class=mi>1000</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Train and log with MLflow</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>(</span><span class=n>experiment_id</span><span class=o>=</span><span class=n>experiment_id</span><span class=p>)</span> <span class=k>as</span> <span class=n>run</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Log parameters and train</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>log_param</span><span class=p>(</span><span class=s2>&#34;vectorizer_max_features&#34;</span><span class=p>,</span> <span class=mi>1500</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pipeline</span><span class=o>.</span><span class=n>fit</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;text&#39;</span><span class=p>],</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;sentiment&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Log metrics</span>
</span></span><span class=line><span class=cl>    <span class=n>cv_scores</span> <span class=o>=</span> <span class=n>cross_val_score</span><span class=p>(</span><span class=n>pipeline</span><span class=p>,</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;text&#39;</span><span class=p>],</span> <span class=n>df</span><span class=p>[</span><span class=s1>&#39;sentiment&#39;</span><span class=p>],</span> <span class=n>cv</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>log_metric</span><span class=p>(</span><span class=s2>&#34;cv_mean_accuracy&#34;</span><span class=p>,</span> <span class=n>cv_scores</span><span class=o>.</span><span class=n>mean</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Register model in MLflow registry</span>
</span></span><span class=line><span class=cl>    <span class=n>model_info</span> <span class=o>=</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>sklearn</span><span class=o>.</span><span class=n>log_model</span><span class=p>(</span><span class=n>sk_model</span><span class=o>=</span><span class=n>pipeline</span><span class=p>,</span> <span class=n>artifact_path</span><span class=o>=</span><span class=s2>&#34;model&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>mlflow</span><span class=o>.</span><span class=n>register_model</span><span class=p>(</span><span class=n>model_uri</span><span class=o>=</span><span class=n>model_info</span><span class=o>.</span><span class=n>model_uri</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;sentiment_classifier&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>The key insight: <code>mlflow.register_model()</code> puts the trained model into a central registry where downstream pipelines can load it by name, not by file path. This separation between training and deployment means data scientists can register multiple model versions, and engineers can load the latest version without touching training code.</p><h3 id=model-monitoring>Model Monitoring</h3><p>The monitoring task analyzes prediction trends over time by querying MLflow&rsquo;s experiment tracking. Instead of checking a single accuracy number, it looks at patterns across multiple DAG runs to detect degradation early (see <a href=https://github.com/krjoha/ai-lab-mlops/blob/main/tasks/monitor_model.py target=_blank rel="noopener noreffer"><code>tasks/monitor_model.py</code></a>
for full implementation):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>monitor_model</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Get recent runs from MLflow (last 30 days)</span>
</span></span><span class=line><span class=cl>    <span class=n>runs</span> <span class=o>=</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>search_runs</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>experiment_ids</span><span class=o>=</span><span class=p>[</span><span class=n>experiment</span><span class=o>.</span><span class=n>experiment_id</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>order_by</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;start_time DESC&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>max_results</span><span class=o>=</span><span class=mi>50</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Analyze trends</span>
</span></span><span class=line><span class=cl>    <span class=n>avg_confidences</span> <span class=o>=</span> <span class=n>runs</span><span class=p>[</span><span class=s1>&#39;metrics.average_confidence&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>low_confidence_rates</span> <span class=o>=</span> <span class=n>runs</span><span class=p>[</span><span class=s1>&#39;metrics.low_confidence_percentage&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>dropna</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Generate alerts</span>
</span></span><span class=line><span class=cl>    <span class=n>alerts</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>avg_confidences</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>avg_confidences</span><span class=o>.</span><span class=n>iloc</span><span class=p>[</span><span class=mi>1</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>alerts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;Model confidence is declining&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>low_confidence_rates</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span> <span class=o>&gt;</span> <span class=mi>25</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>alerts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;High low-confidence rate: </span><span class=si>{</span><span class=n>low_confidence_rates</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2>%&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Log monitoring results back to MLflow</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>mlflow</span><span class=o>.</span><span class=n>start_run</span><span class=p>(</span><span class=n>experiment_id</span><span class=o>=</span><span class=n>experiment</span><span class=o>.</span><span class=n>experiment_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>mlflow</span><span class=o>.</span><span class=n>log_metric</span><span class=p>(</span><span class=s2>&#34;overall_avg_confidence&#34;</span><span class=p>,</span> <span class=n>avg_confidences</span><span class=o>.</span><span class=n>mean</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=n>mlflow</span><span class=o>.</span><span class=n>log_metric</span><span class=p>(</span><span class=s2>&#34;alert_count&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>alerts</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><p>This creates a feedback loop: predictions generate metrics, monitoring analyzes those metrics across time, and alerts trigger when patterns indicate problems. All tracked in MLflow.</p><p>The workshop put MLOps theory into practice. Attendees built complete pipelines with MLflow tracking, Airflow orchestration, and automated monitoring running on their own laptops. The same architecture that handled sentiment classification in the workshop scales to fraud detection, recommendation systems, or demand forecasting in production.</p><p>What makes this approach work is eliminating the handoff. When data scientists and engineers both interact with a shared model registry, the &ldquo;throw it over the fence&rdquo; problem disappears. Automated pipelines catch issues during development, not in production. Monitoring tracks trends across runs instead of waiting for users to report problems.</p><h2 id=mlops--ai-consulting-in-borås>MLOps & AI Consulting in Borås</h2><p>This was the third workshop in the AI Lab series at University of Borås, focused on practical MLOps for developers and engineers. I provide AI and data engineering consulting for businesses in Borås and throughout Sweden. If you need help implementing MLOps infrastructure, building ML pipelines, or moving models from experimentation to production, reach out.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2025-11-30&nbsp;<a class=git-hash href=https://github.com/krjoha/pine-grove/commit/9dcb2845fe1740d1ad278c1563a4830c48cb66d1 target=_blank title="commit by Kristoffer Johansson(10258920+krjoha@users.noreply.github.com) 9dcb2845fe1740d1ad278c1563a4830c48cb66d1: MLOps workshop (#6)">
<i class="fas fa-hashtag fa-fw" aria-hidden=true></i>9dcb2845</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/setfit-nlp-workshop-tech-boras/ class=prev rel=prev title="Powerful NLP with SetFit and Few-Shot Learning"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Powerful NLP with SetFit and Few-Shot Learning</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.linkedin.com/in/kristoffer-johansson/ target=_blank>Kristoffer Johansson</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=/about target=_blank>PGI AB</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>